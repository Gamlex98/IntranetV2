

<h1 class="titulo"> Formatos Fresmar </h1>

<mat-form-field class="form-field">
  <mat-label>Selecciona una Área</mat-label>
  <mat-select (selectionChange)="onChange($event)">
    <mat-option value="auditoria">Auditoría</mat-option>
    <mat-option value="calidad">Calidad</mat-option>
    <!-- <mat-option value="comercial">Comercial</mat-option> -->
    <!-- <mat-option value="contabilidad">Contabilidad</mat-option> -->
    <!-- <mat-option value="importaciones">Importaciones</mat-option> -->
    <mat-option value="gerencia_administrativa">Gerencia Administrativa</mat-option>
    <mat-option value="mantenimiento">Mantenimiento</mat-option>
    <mat-option value="servicios_generales">Servicios Generales</mat-option>
    <mat-option value="sig">Sistemas Integrados de Gestión</mat-option>
    <mat-option value="talento_humano">Talento Humano</mat-option>
    <!-- <mat-option value="tesoreria">Tesorería</mat-option> -->
    <!-- <mat-option value="ti">Tecnologías de la Información</mat-option> -->
  </mat-select>

</mat-form-field>
<!-- <input type="date" [(ngModel)]="fechaInicio" (change)="filtrarFecha(fechaInicio, fechaFin)" style="margin-right: 20px;">
<input type="date" [(ngModel)]="fechaFin" (change)="filtrarFecha(fechaInicio, fechaFin)"> -->

<br>
<input matInput (keyup)="applyFilter($event)" class="form-control" placeholder="Buscar por palabra clave">

<br>
<div class="mat-elevation-z8">
  <table mat-table [dataSource]="tablaSeleccionada" >

        <!-- Fecha Columna -->
        <ng-container matColumnDef="fecha" >
          <th mat-header-cell *matHeaderCellDef style="text-decoration: underline;background-color: rgb(200, 228, 200);"> Fecha </th>
          <td mat-cell *matCellDef="let documento" style="font-weight: bold;" > {{documento.fecha  | date:'yyyy-MM-dd' : 'UTC'}} </td>
        </ng-container>

        <!-- Nombre Columna -->
        <ng-container matColumnDef="nombre">
          <th mat-header-cell *matHeaderCellDef style="text-decoration: underline;background-color: rgb(200, 228, 200);"> Nombre Documento </th>
          <td mat-cell *matCellDef="let documento" style="font-weight: bold;"> {{documento.nombre}} </td>
        </ng-container>

        <!-- Area Columna -->
        <ng-container matColumnDef="area">
          <th mat-header-cell *matHeaderCellDef style="text-decoration: underline;background-color: rgb(200, 228, 200);"> Área </th>
          <td mat-cell *matCellDef="let documento" style="font-weight: bold;"> {{documento.area}} </td>
        </ng-container>

        <!-- Url Columna -->
       <!--  <ng-container matColumnDef="url">
          <th mat-header-cell *matHeaderCellDef > Url </th>
          <td mat-cell *matCellDef="let documento"> {{documento.url}} </td>
        </ng-container> -->

        <!-- Descargar Columna -->

        <ng-container matColumnDef="download">
          <th mat-header-cell *matHeaderCellDef style="text-decoration: underline;background-color: rgb(200, 228, 200);"> Descargar Documento </th>
          <td mat-cell *matCellDef="let documento" style="font-weight: bold;">
            <button mat-icon-button class="descargar-btn" (click)="downloadFile(documento.url,documento.nombre)">
              <mat-icon>cloud_download</mat-icon>
            </button>
          </td>
        </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="mostrar_columnas"></tr>
        <tr mat-row *matRowDef="let row; columns: mostrar_columnas;"> </tr>
    </table>

    <mat-paginator [pageSizeOptions]="[10]"
        showFirstLastButtons
        aria-placeholder="Items por pagina">
    </mat-paginator>
</div>


